<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindForge - Gamify Your Studies</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />

    <!-- Landing Page Stylesheet -->
    <link rel="stylesheet" href="landing.css">
</head>
<body>
    <canvas id="particles-canvas"></canvas>

    <div class="page-container">
        <header>
            <h1>MindForge</h1>
        </header>

        <main class="hero-section">
            <h2 class="hero-title">Stop Grinding. Start Growing.</h2>
            <p class="hero-subtitle">
                MindForge transforms your math studies into a rewarding game. Log your work using text or images, earn XP for your effort, gain AI-powered insights, and track your progress like never before.
            </p>
            <a href="app.html" 
               class="cta-button" 
               onmouseover="particleSystem.createRipple(event.clientX, event.clientY, 0.5); createFlyingXP(event);" 
               onclick="triggerPageTransition(event)">
               Launch App
            </a>
        </main>

        <footer>
            <p>A Hack Club Summer of Making Project</p>
        </footer>
    </div>

    <!-- This is the overlay for the page transition effect -->
    <div id="transition-overlay"></div>

    <!-- Scripts for the landing page -->
    <script src="particles.js"></script>
    <script src="globals.js"></script>
    <script src="init-particles.js"></script>

    <!-- Script block with landing page specific logic -->
    <script>
      function createFlyingXP(event) {
        const xpValues = ['+10 XP', '+25 XP', '+50 XP'];
        const randomXP = xpValues[Math.floor(Math.random() * xpValues.length)];
        const flyer = document.createElement('span');
        flyer.className = 'xp-flyer';
        flyer.textContent = randomXP;
        flyer.style.left = `${event.clientX}px`;
        flyer.style.top = `${event.clientY}px`;
        document.body.appendChild(flyer);
        setTimeout(() => { flyer.remove(); }, 1500);
      }

      function triggerPageTransition(event) {
        event.preventDefault();
        const destination = event.currentTarget.href;
        const overlay = document.getElementById('transition-overlay');
        if (!overlay) return;

        overlay.style.zIndex = "100"; // Bring the overlay to the front

        for (let i = 0; i < 200; i++) {
            const tile = document.createElement('div');
            tile.className = 'transition-tile';
            overlay.appendChild(tile);
        }

        const tiles = document.querySelectorAll('.transition-tile');
        tiles.forEach(tile => {
            setTimeout(() => {
                const x = (Math.random() - 0.5) * 2000;
                const y = (Math.random() - 0.5) * 2000;
                const rot = (Math.random() - 0.5) * 720;
                tile.style.transform = `translateX(${x}px) translateY(${y}px) rotate(${rot}deg)`;
            }, Math.random() * 200);
        });
        
        setTimeout(() => {
            window.location.href = destination;
        }, 1200);
      }
    </script>
</body>
</html>